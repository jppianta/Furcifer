<!DOCTYPE html>
<html>

<head>
  <script type="text/javascript">
    // set the pyodide files URL (packages.json, pyodide.asm.data etc)
    window.languagePluginUrl = window.location.origin + '/pyodide/';
  </script>
</head>

<body>
  Pyodide test page <br>
  Open your browser console to see pyodide output
  <script type='module' src="./furcifer.js"></script>
  <script defer type="text/javascript">
    var waitForGlobal = function (key, callback) {
      if (window[key]) {
        callback();
      } else {
        setTimeout(function () {
          waitForGlobal(key, callback);
        }, 100);
      }
    };

    waitForGlobal("loaded", function () {
      loaded.then(() => {
        pyodide.runPython('import sys');
        pyodide.runPython('sys.path.append("/lib/python3.7/site-packages/test")');
        pyodide.runPython('import test');
        const test = pyodide.pyimport('test')
        console.log(test.val)
      });
    });
  </script>
</body>